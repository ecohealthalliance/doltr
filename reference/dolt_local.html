<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Connect to a local dolt database directory — dolt_local • doltr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Connect to a local dolt database directory — dolt_local"><meta property="og:description" content="dolt_local() creates a DoltLocalDriver, which can generate
a DoltLocalConnection.  Unlike dolt_remote() and DoltDriver, local
connections are for dolt databases stored in directories on-disk, and take
a directory name as an argument. The local connection type starts and manages
a dolt SQL server in the background serving that directory,
connects to it and returns the connection. Parameters govern both the server
and connection
Local dolt connection objects contain additional slots including the
database path on-disk and an external pointer to the server process, and
these are returned via dbGetInfo and displayed in the connection print
method. The dbDisconnect method kills the background server if no other
processes are connected to it.
Multi-user or other, more complicated networking set-ups should
use dolt_server() and dolt_remote() directly."><meta property="og:image" content="https://ecohealthalliance.github.io/doltr/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">doltr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ecohealthalliance/doltr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Connect to a local dolt database directory</h1>
    <small class="dont-index">Source: <a href="https://github.com/ecohealthalliance/doltr/blob/HEAD/R/dolt-local-connection.R" class="external-link"><code>R/dolt-local-connection.R</code></a></small>
    <div class="hidden name"><code>dolt_local.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>dolt_local()</code> creates a <code>DoltLocalDriver</code>, which can generate
a <code>DoltLocalConnection</code>.  Unlike <code><a href="dolt-connection.html">dolt_remote()</a></code> and <code>DoltDriver</code>, <em>local</em>
connections are for dolt databases stored in directories on-disk, and take
a directory name as an argument. The local connection type starts and manages
a <a href="dolt_server.html">dolt SQL server</a> in the background serving that directory,
connects to it and returns the connection. Parameters govern both the server
and connection</p>
<p>Local dolt connection objects contain additional slots including the
database path on-disk and an external pointer to the server process, and
these are returned via <code>dbGetInfo</code> and displayed in the connection print
method. The <code>dbDisconnect</code> method kills the background server if no other
processes are connected to it.</p>
<p>Multi-user or other, more complicated networking set-ups should
use <code><a href="dolt_server.html">dolt_server()</a></code> and <code><a href="dolt-connection.html">dolt_remote()</a></code> directly.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">dolt_local</span><span class="op">(</span><span class="op">)</span>

<span class="co"># S4 method for DoltLocalDriver</span>
<span class="fu">dbUnloadDriver</span><span class="op">(</span><span class="va">drv</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S4 method for DoltLocalDriver</span>
<span class="fu">show</span><span class="op">(</span><span class="va">object</span><span class="op">)</span>

<span class="co"># S4 method for DoltLocalDriver</span>
<span class="fu">dbConnect</span><span class="op">(</span>
  <span class="va">drv</span>,
  dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"DOLT_DIR"</span>, <span class="st">"doltdb"</span><span class="op">)</span>,
  username <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"DOLT_USERNAME"</span>, <span class="st">"root"</span><span class="op">)</span>,
  password <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"DOLT_PASSWORD"</span>, <span class="st">""</span><span class="op">)</span>,
  port <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"DOLT_PORT"</span>, <span class="fl">3306L</span><span class="op">)</span>,
  host <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"DOLT_HOST"</span>, <span class="st">"127.0.0.1"</span><span class="op">)</span>,
  find_port <span class="op">=</span> <span class="cn">TRUE</span>,
  find_server <span class="op">=</span> <span class="cn">TRUE</span>,
  autocommit <span class="op">=</span> <span class="cn">TRUE</span>,
  server_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,
  <span class="va">...</span>
<span class="op">)</span>

<span class="co"># S4 method for DoltLocalConnection</span>
<span class="fu">dbGetInfo</span><span class="op">(</span><span class="va">dbObj</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S4 method for DoltLocalConnection</span>
<span class="fu">show</span><span class="op">(</span><span class="va">object</span><span class="op">)</span>

<span class="co"># S4 method for DoltLocalConnection</span>
<span class="fu">dbDisconnect</span><span class="op">(</span><span class="va">conn</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S4 method for DoltLocalConnection</span>
<span class="fu">dbIsValid</span><span class="op">(</span><span class="va">dbObj</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>drv</dt>
<dd><p>an object of class <code>DoltLocalDriver</code>, created by <code>dolt_local()</code>.</p></dd>
<dt>...</dt>
<dd><p>additional arguments to pass to <code>RMariaDB</code></p></dd>
<dt>object</dt>
<dd><p>a connection object</p></dd>
<dt>dir</dt>
<dd><p>The dolt directory to serve and connect to</p></dd>
<dt>username</dt>
<dd><p>The username. Defaults to "root"</p></dd>
<dt>password</dt>
<dd><p>The login password.  Defaults to empty.</p></dd>
<dt>port</dt>
<dd><p>The TCP port for connections. Defaults to 3306.</p></dd>
<dt>host</dt>
<dd><p>The IP of the host. Defaults to the local machine, <code>127.0.0.1</code></p></dd>
<dt>find_port</dt>
<dd><p>whether to find an open port if the default is used by another
process</p></dd>
<dt>find_server</dt>
<dd><p>whether to look for another server process serving the same
directory before creating a new one</p></dd>
<dt>autocommit</dt>
<dd><p>Whether to autocommit changes in the <em>SQL</em> sense. That is,
to flush pending changes to disk and update the working set.</p></dd>
<dt>server_args</dt>
<dd><p>a list of additional arguments to pass to <code><a href="dolt_server.html">dolt_server()</a></code></p></dd>
<dt>dbObj</dt>
<dd><p>the database connection</p></dd>
<dt>conn</dt>
<dd><p>the database connection</p></dd>
</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other connections: 
<code><a href="dolt-connection.html">dolt_remote</a>()</code>,
<code><a href="dolt.html">dolt</a>()</code></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://www.noamross.net/" class="external-link">Noam Ross</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

